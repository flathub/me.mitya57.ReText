app-id: me.mitya57.ReText
runtime: org.kde.Platform
runtime-version: 5.15-21.08
sdk: org.kde.Sdk
base: com.riverbankcomputing.PyQt.BaseApp
base-version: 5.15-21.08
command: retext
rename-icon: retext
finish-args:
  - --device=dri
  - --share=network
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --filesystem=home

modules:
  # generated with flatpak-pip-generator
  - python3-Markdown.json
  - python3-docutils.json
  - python3-Markups.json
  - python3-pyenchant.json

  - name: retext
    buildsystem: simple
    sources:
      - type: git
        url: https://github.com/retext-project/retext.git
        tag: 8.0.0
        commit: f481db01f1f17ec7b752bc575a904cc98aedb04a
        x-checker-data:
          type: git
          tag-pattern: ^([\d.]+)$
    build-commands:
      - python3 setup.py install --prefix=${FLATPAK_DEST} --root=/
      - cp -r ReText/icons/*.svg ${FLATPAK_DEST}/share/icons/hicolor/scalable/apps/
